\section{Комплекс программ для генерации потоков ошибок на основе скрытых полумаковских моделей.} \label{chapt2_Implementation}
В этом разделе представлено описание и особенности реализации программного комплекса для генерации потоков ошибок на основе моделей источников ошибок, описанных в разделах \ref{chapt2_Ferguson} и \ref{chapt2_HSMQPN}.

\subsection{Структура программного комплекса.}
Для генерации потоков ошибок описанными в разделах \ref{chapt2_Ferguson} и \ref{chapt2_HSMQPN} скрытой полумарковской моделью Фергюсоновского типа и скрытой полумарковской $QP$-моделью был разработан специальный комплекс программ \textbf{HsmmErrorSources.Generation}. Основной задачей програмного комплекса является предоставление исследователю возможности осуществлять генерацию последовательностей ошибок в соответствии с заданными в виде текстового файла параметрами модели источника ошибок и алгоритмом генерации для модели заданного типа. Полученные на выходе текстовые файлы, содержащие сгенерированные последовательности могут использоваться исследователем для самостоятельного анализа.

На рисунке \ref{fig:chapt2_GenerationDFD} представлена диаграмма потоков данных программного комплекса \textbf{HsmmErrorSources.Generation}. Дадим следующие необходимые пояснения. Пользователь комплекса задает необходимые параметры генерации, т.е. имя файла модели, длина последовательности, код генератора случайных чисел, имя файла выходной последовательности. Подсистема "Интерфейс пользователя" обрабатывает введенные параметры и обращается к файловой системе для получения описания модели источника ошибок, которое для удобства реализовано в виде JSON объекта. Полученный JSON-объект модели, а также данные о типе генератора случайных чисел и длине последовательности подсистема передает подсистеме управления генерацией последовательности ошибок, которая сначала делает запрос к подсистеме сериализации/десериализации JSON-объектов модели и получает программное представление объекта модели источника ошибок нужного типа, после чего передает его подсистеме валидации модели ошибок. Подсистема валидации модели ошибок проверяет корректность заданных параметров модели с точки зрения консистентности и выполнения необходимых условий и возвращает результат подсистеме управления генерацией. Если ошибок нет, то подсистема управления генерацией передает модель и длину последовательности подсистеме генерации последовательности ошибок и получает обратно сгенерированную последовательность. Эта последовательность передается в подсистему "Интерфейс пользователя" , где записывается в указанный пользователем файл.

\begin{center}\label{fig:chapt2_GenerationDFD}
\includegraphics[height=100mm]{/part2/GenerationDFD.pdf}

Рис.2.4.1.1. Диаграмма потоков данных программного комплекса \textbf{HsmmErrorSources.Generation}.
\end{center}

Программный комплекс \textbf{HsmmErrorSources.Generation} реализован на языке программирования высокого уровня $C\sharp$. Необходимым условием для работы программного продукта является наличие .NET Framework 4.0. В основе архитектуры комплекса лежат принципы объектно-ориентированного дизайна.

Структурно программный комплекс состоит из нескольких, логически разделенных модулей. Оболочкой программного комплекса является консольное приложение \textbf{HsmmErrorSources.GenerationApp}, предоставляющее пользователю простейший интерфейс для задания параметров генерации и ее запуска. Параметрами генерации выступают путь к файлу, содержащему описание модели источника ошибок, длина генерируемой последовательности, тип генератора случайных чисел и путь к выходному файлу, в который будет записана последовательность ошибок. 

Логическая часть программного комплекса отделена от интерфейса и вынесена в следующие потенциально переиспользуемые модули, оформленные в виде DLL-библиотек: \textbf{HsmmErrorSources.Models} и \textbf{HsmmErrorSources.Generation}. Модуль \textbf{HsmmErrorSources.Models} включает в себя классы, относящиеся к описанию, представлению и валидации моделей источников ошибок. Модуль \textbf{HsmmErrorSources.Generation} содержит классы, реализующие процесс генерации последовательностей ошибок. Такое разделение обусловлено тем, что структуры и алгоритмы из \textbf{HsmmErrorSources.Models} могут быть использованы не только в контексте генерации потоков ошибок, но так же и в решении других задач, например, анализа моделей.

Отдельно следует отметить так же два модуля \textbf{HsmmErrorSources.Models.Test} и \textbf{HsmmErrorSources.Generation.Test}, содержащих модульные тесты для классов из модулей \textbf{HsmmErrorSources.Models} и \textbf{HsmmErrorSources.Generation} соответственно.

На рисунке \ref{fig:chapt2_DLLDependencies} представлена диаграмма зависимостей модулей программного комплекса \textbf{HsmmErrorSources.Generation}. Здесь зеленая стрелка от модуля A к модулю B говорит о том, что какие-то из классов модуля A наследуют от классов модуля B, розовая стрелка от модуля A к модулю B означает, что в классах модуля A происходит вызов классов из модуля B.
\begin{center}\label{fig:chapt2_DLLDependencies}
\includegraphics[height=70mm]{/part2/DLLDependencies.jpg}

Рис.2.4.1.2. Диаграмма зависимостей модулей программного комплекса \textbf{HsmmErrorSources.Generation}.
\end{center}

Рассмотрим более подробно модуль \textbf{HsmmErrorSources.Models}. Как уже было сказано, этот модуль содержит классы, относящиеся к описанию, представлению и валидации моделей источников ошибок. Под описанием моделей здесь понимается их описание в виде объекта некоторого $C\sharp$-класса, под представлением --- предствление в виде JSON объекта и необходимые для этого алгоритмы сериализации/десериализации, под валидацией --- проверка корректности заданных параметров модели с точки зрения консистентности и выполнения всех необходимых условий.

На рисунке \ref{fig:chapt2_ModelsHierarchyUML} приведена UML-диаграмма иерархии классов, программно описывающих модели источника ошибок. 

\begin{center}\label{fig:chapt2_ModelsHierarchyUML}
\includegraphics[height=120mm]{/part2/ModelsHierarchyUML.jpg}

Рис.2.4.1.3. UML-диаграмма иерархии классов моделей источника ошибок.
\end{center}


\subsection{Описание вспомогательных классов и методов.}




\subsection{Программная реализация генераторов ошибок на основе скрытой полумарковской модели Фергюсона.}
\subsection{Программная реализация генераторов ошибок на основе скрытой полумарковской $QP$-модели.}
\subsection{Программная реализация генераторов ошибок на полиномиального представления скрытой полумарковской модели Фергюсона.}
преимущество полиномиального представления 